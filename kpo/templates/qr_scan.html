{% extends "layout.html" %}
{% block content %}
    <h1>About Page</h1>
    <head>
      <script>
             let reading_mode = false
             let  reading_barcode = ()=>{
                  camera = document.getElementById("video_frame")
                  reader_button = document.getElementById("read_barcode")
                  video_elemets = document.getElementsByClassName("c_title")
                  book_details = document.getElementById("book_details")

                 if (reading_mode==false){
                      camera.src = "{{url_for('qr.video_frames')}}"
                      reader_button.innerHTML = "Read Now "
                      for (let index = 0; index<video_elemets.length; index++){
                              video_elemets[index].style.visibility = "visible"
                      }
                      reading_mode = true
                 }
                 else{
                      camera.src = ""
                      reader_button.innerHTML = "Read Barcode"
                      book_details.innerHTML = "Barcode printed check it on your terminal "
                      reading_mode = false

                 }
              }
      </script>
    </head>

    <body>
      <button  id = "read_barcode" onclick="reading_barcode()"> Read Barcode</button>
      <br><br>
      <h2 class = "c_title">Opening Camera</h2>
      <img class="c_title" id ="video_frame" src="#">
      <p id = "book_details"></p>
      <h1>{{ _value }}</h1>
    </body>
{% endblock content%}
